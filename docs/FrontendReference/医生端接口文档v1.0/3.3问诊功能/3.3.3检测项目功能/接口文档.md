# 接口文档-V1.0

## 相关接口：检测项目查询

### 1 返回所有检测列表接口

#### 1.1 基本信息

> 请求路径：/test/allinfor
>
> 请求方式：GET
>
> 接口描述：该接口返回所有检测列表

#### 1.2 请求参数

无，使用 jwt 令牌即可标识用户身份

#### 1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称     | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| -------- | ------ | -------- | ------ | --------------------- | -------- |
| code     | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message  | string | 非必须   |        | 提示信息              |          |
| data     | object | 必须     |        | 返回的数据            |          |
| \|-total | number | 必须     |        | 总记录数              |          |
| \|-items | array  | 必须     |        | 数据列表              |          |
| \|-teno  | number | 必须     |        | 主键                  |          |
| \|-type  | string | 必须     |        | 检测类型              |          |
| \|-name  | string | 必须     |        | 检测项目              |          |
| \|-price | string | 必须     |        | 检测价格              |          |
| \|-spend | string | 必须     |        | 检测时间              |          |

响应数据样例：

```json
{
  "code": 0,
  "message": "操作成功",
  "data": {
    "total": 3,
    "items": [
      {
        "teno": 1,
        "type": "血常规",
        "name": "血常规A检测项目",
        "price": 20.8,
        "spend": "00:40:00"
      },
      {
        "teno": 2,
        "type": "血常规",
        "name": "血常规B检测项目",
        "price": 40.6,
        "spend": "01:05:00"
      },
      {
        "teno": 3,
        "type": "尿常规",
        "name": "尿常规A检测项目",
        "price": 30.4,
        "spend": "00:35:00"
      }
    ]
  }
}
```

### 2 生成检测缴费账单接口

#### 2.1 基本信息

> 请求路径：/test/testbill
>
> 请求方式：POST
>
> 接口描述：生成检测缴费账单

#### 2.2 请求参数

```shell
pano=1&teno=2
# 上传病人主键和检测主键即可
```

#### 2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | null                  |          |

```json
{
  "code": 0,
  "message": "操作成功！",
  "data": null
}
```

### 3 检测结果查看接口

#### 3.1 基本信息

> 请求路径：/test/result
>
> 请求方式：POST
>
> 接口描述：该接口返回检测结果

#### 3.2 请求参数

```shell
pano=3
# 上传病人的主键即可
```

#### 3.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | string | 必须     |        | 检测结果              |          |

```json
{
  "code": 0,
  "message": "操作成功",
  "data": "上呼吸道感染"
}
```
