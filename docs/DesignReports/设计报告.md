# 总体设计报告

##  引言

### 编写目的

本阶段完成系统的大致设计并说明系统的数据结构与软件结构，本概要设计说明书的目的就是进一步细化软件设计阶段得出的软件概貌，把它加工成程序细节上非常接近与源程序开发的软件标识。

预期读者：软件测试⼈员、程序开发员、软件分析员。

### 背景

说明：

- 基于 `vue`+`springboot` 的在线医疗系统
- 列出此项目的任务提出者： 第三大组
- 本项目的开发者： 第三大组
- 用户：测试⼈员、即将使用本系统的所有⽤户
- 运行该软件的计算站（中心）：运行该系统的全体客户端

### 参考资料

《软件工程：实践者的研究⽅法》 [ 美 ] Roger S. Pressman ， [ 美 ] Bruce R. Maxim  著

## 总体设计

### 需求规定

本项目研发的在线医疗系统是一个综合性、双向的医疗服务平台，提供所有患者和医务人员一个公正、透明的医疗交互环境。无论是个体医生还是医疗机构，都可以在该系统上提供自身的专业医疗服务。所有的服务信息都将由服务提供者自行输入，并根据系统的规定进行严格的管理和审计。

此外，该系统将引入一系列实用功能以提升用户体验，包括但不限于：医疗信息搜索功能、用户评级和反馈模块、在线客服支持等。考虑到医疗领域的竞争日渐激烈以及患者需求的多元化，我们将积极调查市场需求，适时调整系统的运行策略，以维持系统的竞争优势和长期发展。 

在线医疗系统不仅要符合所有相关医疗法规和数据安全规定，还要确保所有交互功能的可用性并符合用户习惯。系统的设计和实施都必须保证生命周期内的可维护性、可靠性和可扩展性。接口设计要求清晰易读，以便进一步的整合和升级。在保障用户隐私和数据安全的前提下，我们的目标是打造一个用户友好、功能强大且稳定可靠的在线医疗服务平台。

### 运行环境

- 运行系统： windows 10
- 数据库管理软件： `Mysql` ， `Redis`
- 编程软件： `IDEA` 、 `Vscode`

### 体系结构设计

#### 体系结构风格

体系结构风格是施加在整个系统构件上的⼀种变换，⽬的是为系统的所有构件建⽴⼀个结构。在 对已有体系结构再⼯程时，体系结构⻛格的转化会导致软件结构的根本性变化，包括对软件构件的再分配等等。恰当的软件结构⻛格与模式合起来构成了软件的外形。在过去数百万的计算机系统中，绝大多数可以归结成以下少数模式中的⼀种：

- 以数据为中心的体系结构
- 数据流体系结构
- 调用和返回体系结构
- 面向对象体系结构
- 层次体系结构

#### 层次体系结构设计

##### 顶层 - 由医生病人管理层三个部分组成的网上问诊医疗系统

`TODO：补充这里，记得配图`

##### 次顶层 - 服务器端设计 (Server)

`TODO：网络模块 解码模块 数据库模块，记得配图`

##### 次顶层 - 客户端子系统(Client)

`TODO：网络模块 解码模块 用户界面模块，记得配图`

##### 中间层 - 服务器端子系统的网络模块 (Network)

`TODO：补充这里，记得配图`

##### 中间层 - 服务器端子系统的数据库模块 (Database)

`TODO：补充这里，记得配图`

##### 中间层 - 服务器端子系统的编码模块 (Encode)

`TODO：补充这里，记得配图`

`TODO：添加自己觉得必须的医院相关的功能模块，如账单模块问诊模块等`

##### 中间层 - 客户端子系统的网络模块 (Network)

`TODO：补充这里，记得配图`

##### 中间层 - 客户端子系统的解码模块 (Decode)

`TODO：补充这里，记得配图`

##### 中间层 - 客户端子系统的用户界面模块 (Interface)

`TODO：补充这里，记得配图`

### 服务器端设计

#### 服务器架构

服务器分为三个层次：表现层，业务逻辑层，数据访问层

##### 表现层

`TODO：补充这里，记得配图`

#####  业务逻辑层

`TODO：补充这里，记得配图`

##### 数据访问层

`TODO：补充这里，记得配图`

#### 服务器处理流程

`TODO：几张流程图`

#### 类图与数据库ER图

`TODO：ER图 + 类图`

### 人工处理过程

在现代的计算机系统中，数据是非常重要的资源，由于许多不可控因素（如硬件故障、恶意软
件、自然灾害等）可能导致数据丢失或受到损坏，因此保护数据的备份是至关重要的。

为了保护数据，需要人工定期进行备份，并根据备份策略选择适当的备份方式。备份应该存储在
不同的位置，以防止单点故障的影响，并使用加密和访问控制等技术来保护备份数据。此外，备份也
应该经过测试验证，以确保备份数据完整可用。

## 接口设计

### 病人端接口

`TODO：补充这里，记得配图`

### 医生端接口

`TODO：补充这里，记得配图`

### 管理端接口

`TODO：补充这里，记得配图`

## 运行设计

### 运行模块组合

输入时启动接收数据模块,通过各模块之间的调用,读入并对各种输入进行格式化。在接收数据模
块得到充分的数据时,将调用网络传输模块,将数据通过网络送到服务器,并等待接收服务器返回的信
息。接收到返回信息后随即调用数据输出模块,对信息进行处理,产生相应的输出。

服务器程序的接收网络数据模块必须始终处于活动状态。接收到数据后,调用数据处理/查询模块
对数据库进行访问,完成后调用网络发送模块,将信息返回客户机。

### 运行控制

运行控制将严格按照各模块间函数调用关系来实现。在各事务中心模块中,需对运行控制进行正确的判断,选择正确的运行控制路径。

在网络传方面,客户机在发送数据后,将等待服务器的确认收到信号,收到后,再次等待服务器发送回答数据,然后对数据进行确认。服务器在接到数据后发送确认信号,在对数据处理、访问数据库后,将返回信息送回客户机,并等待确认。

### 运行时间

- 一般医生与病人模块会经常运行，占用数据库使用时间的2/3
- 管理员模块使用次之，占用数据库使用时间的1/3

## UI 设计

### UI 设计原则

 在进行UI设计时，需要充分考虑用户的需求，需要将以下原则融入UI的设计中：

- 设计简洁明了，考虑用户习惯。界面的简洁有利于用户了解和使用产品，减少用户出错的可能。
- 考虑用户的爱好和习惯来设计界面中功能的位置，方便用户使用。
- 美观大方。系统界面的设计在视觉效果上便于理解和使用。同时，也可以让界面更为美观，让用
  户在使用感觉赏心悦目，提高用户的使用体验。
- 一致性。界面的结构必须清晰且一致，风格必须与产品内容相一致。

### UI  原型设计

`TODO：一些UI原型，记得配图`

## 系统出错处理设计

### 出错信息

|   错误类型   |   子项   |   错误原因   |
| ---- | ---- | ---- |
| 数据库错误 | 连接 | 连接超时                 |
| 数据库错误     | 数据库本身   | 数据库代码设计错误       |
| TCP 错误       | 连接         | 连接超时                 |
| 系统⾃定义错误 | 输⼊错误     | 输⼊不合⽹⻚要求规范     |
| 系统⾃定义错误 | 渲染错误     | 没能成功传送数据到数据库 |
| 连接错误       | 内部连接错误 | 图⽚维护错误             |
| 连接错误       | 外部连接错误 | ⽹⻚维护错误 |

### 补救措施

- 后备技术，周期性的把错误信息记录在电脑硬盘上
- 降效技术，人工输入数据，核对信息输入电脑
- 对于软错误，需要在添加/修改操作中及时对输入数据进行验证，分析错误的类型，并且给出
  相应的错误提示语句，传送到客户端的浏览器上；
- 对于硬错误，错误类型不较少而且比较明确，所以可以在可能出错的地方中输出相应的出错语
  句，并将程序重置，最后返回输入阶段；

### 系统维护设计

定期备份数据库，定期检测数据库的一致性，定期查看操作日志等；文件方面：对于下架商品
等，定期删除相关文件，减少数据量。

